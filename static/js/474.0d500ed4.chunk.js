"use strict";(self.webpackChunktaskpro_project=self.webpackChunktaskpro_project||[]).push([[474],{1474:(e,a,n)=>{n.r(a),n.d(a,{default:()=>H});var t=n(5043),o=n(6580),r=n(3003),i=n(8369);const s=e=>e.columns.columns,d=e=>e.columns.isLoading,l=e=>e.columns.error,c={column:"ProjectColumns_column__+kO0U",text:"ProjectColumns_text__HvghR",addContainer:"ProjectColumns_addContainer__K3nzj",button:"ProjectColumns_button__LslHO",icon:"ProjectColumns_icon__9ARtZ"};var m=n(5737);const u=(0,n(2099).Mz)(((e,a)=>e.cards.columns[a]||[]),(e=>e.cards.cards),((e,a)=>e.map((e=>a[e])))),_={cardContainer:"Card_cardContainer__s03Mx",highPriority:"Card_highPriority__V2BsM",mediumPriority:"Card_mediumPriority__PihMH",lowPriority:"Card_lowPriority__jrbRn",priorityCircle:"Card_priorityCircle__7zGsp",high:"Card_high__XfacI",medium:"Card_medium__ZzgRd",low:"Card_low__8GEiw",default:"Card_default__0k8bx",detailsContainer:"Card_detailsContainer__tQzlS",secondContainer:"Card_secondContainer__ziGdE",title:"Card_title__td8Dq",text:"Card_text__9eW7u",container:"Card_container__RZsSe",smallText:"Card_smallText__TsInM",priorityStatus:"Card_priorityStatus__dtwQX",priority:"Card_priority__oWu7w",status:"Card_status__HcXGC",icons:"Card_icons__wug2B",moveMenu:"Card_moveMenu__qSREc",columnList:"Card_columnList__71YGx",columnButton:"Card_columnButton__AGDWO"};var C=n(9830),h=n(579);const x=function(e){let{card:a,onEdit:n,onDelete:o,onMove:i}=e;const[d,l]=(0,t.useState)(!1),c=(0,r.d4)(s),m="".concat(_.priorityCircle," ").concat(_[a.cardPriority.toLowerCase()]||_.default);return(0,h.jsxs)("div",{className:"".concat(_.cardContainer," ").concat(_["".concat(a.cardPriority.toLowerCase(),"Priority")]||""),children:[(0,h.jsxs)("div",{className:_.detailsContainer,children:[(0,h.jsx)("h4",{className:_.title,children:a.cardName}),(0,h.jsx)("p",{className:_.text,children:a.cardDescription})]}),(0,h.jsxs)("div",{className:_.container,children:[(0,h.jsxs)("div",{className:_.secondContainer,children:[(0,h.jsxs)("div",{className:_.priority,children:[(0,h.jsx)("p",{className:_.smallText,children:"Priority:"}),(0,h.jsxs)("div",{className:_.priorityStatus,children:[(0,h.jsx)("div",{className:m}),(0,h.jsx)("span",{className:_.status,children:a.cardPriority})]})]}),(0,h.jsxs)("div",{className:_.deadline,children:[(0,h.jsx)("p",{className:_.smallText,children:"Deadline:"}),(0,h.jsx)("p",{className:_.status,children:new Date(a.deadlineDate).toLocaleDateString()})]})]}),(0,h.jsxs)("div",{className:_.icons,children:[(0,h.jsx)(C.A,{name:"move",size:16,handlerFunction:()=>l(!d)}),(0,h.jsx)(C.A,{name:"edit",size:16,handlerFunction:()=>n(a)}),(0,h.jsx)(C.A,{name:"delete",size:16,handlerFunction:()=>o(a)})]})]}),d&&(0,h.jsx)("div",{className:_.moveMenu,children:(0,h.jsx)("ul",{className:_.columnList,children:c.filter((e=>e._id!==a.columnId)).map((e=>(0,h.jsx)("li",{className:_.columnItem,children:(0,h.jsxs)("button",{className:_.columnButton,onClick:()=>{return n=e._id,i(a,n),void l(!1);var n},children:[e.name,(0,h.jsx)(C.A,{name:"move",size:16,extraClass:_.icon})]})},e._id)))})})]})},j="CardsList_container__tsRnB";const p=function(e){let{cards:a,onEdit:n,onDelete:t,onMove:o}=e;return(0,h.jsx)("div",{className:j,children:a.map((e=>(0,h.jsx)(x,{card:e,onEdit:()=>n(e),onDelete:()=>t(e._id),onMove:(e,a)=>o(e,a)},e._id)))})},v={columnNameContainer:"Column_columnNameContainer__xnkj1",name:"Column_name__n0Gkp",iconContainer:"Column_iconContainer__1iGIa",addIconContainer:"Column_addIconContainer__euYja",icon:"Column_icon__Ef0lm",text:"Column_text__rtuyU",button:"Column_button__OQwSW"};var y=n(9379),N=n(6),g=n(3902);const b={title:"CardForm_title__jQe7-",textarea:"CardForm_textarea__vJxPE",priorityContainer:"CardForm_priorityContainer__NlkH0",label:"CardForm_label__uiV3+",priorityOptions:"CardForm_priorityOptions__kFCgX",priorityBubble:"CardForm_priorityBubble__ZG62I",low:"CardForm_low__KYMIv",medium:"CardForm_medium__EPSVG",high:"CardForm_high__JTvQE",without:"CardForm_without__Nc1iU",selected:"CardForm_selected__mfe+4",dateContainer:"CardForm_dateContainer__93ji5",deadlineContainer:"CardForm_deadlineContainer__YW5xq",dateInput:"CardForm_dateInput__xnIdh",button:"CardForm_button__Knqxb",iconContainer:"CardForm_iconContainer__VWiX+",icon:"CardForm_icon__SSn4W",dateButton:"CardForm_dateButton__U1bnt",arrowIcon:"CardForm_arrowIcon__r1T6E"};var w=n(1899),A=n.n(w),f=n(3538);n(5015);const D=e=>{let{columnId:a,handleClose:n,onSubmit:o,card:r}=e;const[i,s]=(0,t.useState)({cardName:(null===r||void 0===r?void 0:r.cardName)||"",cardDescription:(null===r||void 0===r?void 0:r.cardDescription)||"",cardPriority:(null===r||void 0===r?void 0:r.cardPriority)||"Low",deadlineDate:(null===r||void 0===r?void 0:r.cardDeadline)||""}),[d,l]=(0,t.useState)(!1),c=e=>{const{name:a,value:n}=e.target;s((e=>(0,y.A)((0,y.A)({},e),{},{[a]:n})))},m=e=>{s((a=>(0,y.A)((0,y.A)({},a),{},{cardPriority:e})))};return(0,h.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(i),n()},children:[(0,h.jsx)("h2",{className:b.title,children:r?"Edit Card":"Add Card"}),(0,h.jsx)(g.A,{type:"text",name:"cardName",placeholder:"Title",value:i.cardName,handleChange:c,required:!0}),(0,h.jsx)("textarea",{className:b.textarea,name:"cardDescription",placeholder:"Description",value:i.cardDescription,onChange:c,required:!0}),(0,h.jsxs)("div",{className:b.priorityContainer,children:[(0,h.jsx)("label",{className:b.label,children:"Label color"}),(0,h.jsxs)("div",{className:b.priorityOptions,children:[(0,h.jsx)("div",{className:"".concat(b.priorityBubble," ").concat(b.low," ").concat("Low"===i.cardPriority?b.selected:""),onClick:()=>m("Low")}),(0,h.jsx)("div",{className:"".concat(b.priorityBubble," ").concat(b.medium," ").concat("Medium"===i.cardPriority?b.selected:""),onClick:()=>m("Medium")}),(0,h.jsx)("div",{className:"".concat(b.priorityBubble," ").concat(b.high," ").concat("High"===i.cardPriority?b.selected:""),onClick:()=>m("High")}),(0,h.jsx)("div",{className:"".concat(b.priorityBubble," ").concat(b.without," ").concat("Without"===i.cardPriority?b.selected:""),onClick:()=>m("Without")})]})]}),(0,h.jsxs)("div",{className:b.deadlineContainer,children:[(0,h.jsx)("label",{className:b.label,children:"Deadline"}),(0,h.jsxs)("div",{className:b.dateContainer,children:[(0,h.jsx)("input",{type:"text",value:i.deadlineDate?new Date(i.deadlineDate).toLocaleDateString("en-US",{month:"long",day:"numeric"}):"Today, "+(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric"}),readOnly:!0,className:b.dateInput}),(0,h.jsxs)("div",{style:{position:"relative"},children:[" ",(0,h.jsx)(f.bv7,{className:b.arrowIcon,onClick:()=>l(!0)}),d&&(0,h.jsxs)("div",{className:"datePickerContainer",children:[" ",(0,h.jsx)(A(),{selected:i.deadlineDate?new Date(i.deadlineDate):new Date,onChange:e=>{s((a=>(0,y.A)((0,y.A)({},a),{},{deadlineDate:e}))),l(!1)},minDate:new Date,dateFormat:"MMMM d, yyyy",className:b.reactDatePicker,todayButton:"Today",inline:!0})]})]})]})]}),(0,h.jsx)("div",{children:(0,h.jsxs)(N.A,{type:"submit",extraClass:b.button,children:[(0,h.jsx)("div",{className:b.iconContainer,children:(0,h.jsx)(C.A,{name:r?"edit":"plus",size:14,extraClass:b.icon})}),r?"Edit":"Add"]})})]})};var F=n(9375);const I={title:"AddColumnForm_title__05V3n",button:"AddColumnForm_button__yMLFf",iconContainer:"AddColumnForm_iconContainer__TBlfJ",icon:"AddColumnForm_icon__0BxgM"};const P=function(e){let{handleModalClose:a,column:n=null}=e;const{id:s}=(0,o.g)(),d=(0,r.wA)(),[l,c]=(0,t.useState)(""),[m,u]=(0,t.useState)(null);return(0,t.useEffect)((()=>{n&&c(n.columnName||"")}),[n]),(0,h.jsxs)("div",{className:I.container,children:[(0,h.jsx)("h2",{className:I.title,children:n?"Edit Column":"Add Column"}),(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(null);try{if(n){const e=n._id,o=await d(d((0,i.ZD)({columnId:e,updateData:{columnName:l}})));var t;if(i.ZD.rejected.match(o))u((null===(t=o.payload)||void 0===t?void 0:t.message)||"Failed to edit column.");else d((0,i.GH)(s)),a()}else{const e=await d((0,i.cq)({columnName:l,projectId:s}));var o;if(i.cq.rejected.match(e))u((null===(o=e.payload)||void 0===o?void 0:o.message)||"Failed to add column.");else d((0,i.GH)(s)),a()}}catch(r){u("An unexpected error occurred.")}},children:[(0,h.jsx)(g.A,{placeholder:"Title",value:l,handleChange:e=>{c(e.target.value)}}),m&&(0,h.jsx)("p",{className:I.error,children:m}),(0,h.jsxs)(N.A,{extraClass:I.button,type:"submit",children:[(0,h.jsx)("div",{className:I.iconContainer,children:(0,h.jsx)(C.A,{name:n?"edit":"plus",size:16,extraClass:I.icon})}),n?"Save Changes":"Add"]})]})]})};var k=n(2500);const S=t.memo((e=>{let{column:a}=e;const n=(0,r.wA)(),o=(0,r.d4)((e=>u(e,a._id))),[s,d]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),_=e=>{"function"!==typeof e&&console.error("The content passed to the modal is not a valid component."),d(e),c(!0)},x=()=>{d(null),c(!1)};return(0,t.useEffect)((()=>{n((0,m.Eg)(a._id))}),[n,a._id]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:v.container,children:[(0,h.jsxs)("div",{className:v.columnNameContainer,children:[(0,h.jsx)("h3",{className:v.name,children:a.name}),(0,h.jsxs)("div",{className:v.iconContainer,children:[(0,h.jsx)(C.A,{name:"edit",size:16,handlerFunction:()=>{_((0,h.jsx)(P,{handleModalClose:x,column:a}))}}),(0,h.jsx)(C.A,{name:"delete",size:16,handlerFunction:()=>{_((0,h.jsx)(k.A,{title:"Delete Column",message:"Are you sure you want to delete this column?",handleModalClose:x,onConfirm:()=>n((0,i.gR)(a._id)).unwrap().then((()=>console.log("Column deleted successfully"))).catch((e=>console.error("Failed to delete column:",e)))}))}})]})]}),(0,h.jsx)(p,{cards:o||[],onEdit:e=>{_((0,h.jsx)(D,{card:e,columnId:a._id,handleClose:x,onSubmit:t=>{n((0,m.Lo)({updatedData:t,columnId:a._id,cardId:e._id})).unwrap().then((()=>{console.log("Card edited successfully")})).catch((e=>{console.error("Failed to edit card:",e)}))}}))},onDelete:e=>{(e=>{const t=a._id;_((0,h.jsx)(k.A,{title:"Delete Card",message:"Are you sure you want to delete this card?",handleModalClose:x,onConfirm:()=>n((0,m.GO)({columnId:t,cardId:e})).unwrap().then((()=>console.log("Card deleted successfully"))).catch((e=>console.error("Failed to delete card:",e)))}))})(e)},onMove:(e,a)=>((e,a)=>{n((0,m.sQ)({toColumnId:e,cardId:a._id,fromColumnId:a.columnId})).unwrap().then((()=>console.log("\u2705 Card moved successfully"))).catch((e=>console.error("\u274c Failed to move card:",e)))})(a,e)}),(0,h.jsxs)(N.A,{extraClass:v.button,handlerFunction:()=>{_((0,h.jsx)(D,{columnId:a._id,handleClose:x,onSubmit:e=>{n((0,m.gm)({cardData:e,columnId:a._id})).unwrap().then((e=>{n({type:"cards/columnAddedCard",payload:{columnId:a._id,cardId:e._id}})})).catch((e=>{console.error("Failed to add card:",e)}))}}))},children:[(0,h.jsx)("div",{className:v.addIconContainer,children:(0,h.jsx)(C.A,{name:"plus",size:14,extraClass:v.icon})}),o?(0,h.jsx)("p",{className:v.text,children:"Add a new Card"}):(0,h.jsx)("p",{className:v.text,children:"Add another card"})]})]}),(0,h.jsxs)(F.A,{isVisible:l,handleModalClose:x,extraClass:v.modal,children:[s," "]})]})}));var M=n(2878);const E=function(){const{id:e}=(0,o.g)(),a=(0,r.wA)(),n=(0,r.d4)(s),m=(0,r.d4)(d),u=(0,r.d4)(l),[_,x]=(0,t.useState)(null),[j,p]=(0,t.useState)(!1),v=()=>{x(null),p(!1)};return(0,t.useEffect)((()=>(a((0,M.s)()),e&&a((0,i.GH)(e)),()=>{a((0,M.s)())})),[a,e]),m?(0,h.jsx)("p",{children:"Loading columns..."}):u?(0,h.jsxs)("p",{children:["Error loading columns: ",u]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:c.column,children:[n.map((e=>(0,h.jsx)(S,{column:e},e._id))),(0,h.jsxs)("div",{className:c.addContainer,children:[(0,h.jsx)(N.A,{extraClass:c.button,handlerFunction:()=>{var e;(e=(0,h.jsx)(P,{handleModalClose:v}))?(x(e),p(!0)):console.error("Invalid content passed to modal.")},children:(0,h.jsx)(C.A,{name:"plus",size:14,extraClass:c.icon})}),(0,h.jsx)("p",{className:c.text,children:" Add another column"})]})]}),(0,h.jsx)(F.A,{isVisible:j,handleModalClose:v,extraClass:c.modal,children:_||null})]})},z="ProjectDetailsPage_title__YoI9W",L="ProjectDetailsPage_container__O-8Ad",B="ProjectDetailsPage_infoContainer__SpcWN",G="ProjectDetailsPage_errorMessage__RMLVr";var T=n(4333);const H=function(){const{id:e}=(0,o.g)(),a=(0,r.d4)((a=>(0,T.yN)(a,e))),n=null===a||void 0===a?void 0:a.find((a=>a._id===e)),t=null!==n&&void 0!==n&&n.background?"".concat("/taskpro-project","/backgroundsImg/").concat(n.background,".jpeg"):null;return(0,h.jsxs)("div",{style:{backgroundImage:t?"url(".concat(t,")"):"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"100%",transition:"background 0.3s ease"},className:L,children:[(0,h.jsx)("h2",{className:z,children:null===n||void 0===n?void 0:n.name}),n?(0,h.jsx)(E,{projectId:e}):(0,h.jsx)("div",{className:B,children:(0,h.jsxs)("p",{className:G,children:["Before starting your project, it is essential"," ",(0,h.jsx)("span",{children:"to create a board "}),"to visualize and track all the necessary tasks and milestones. This board serves as a powerful tool to organize the workflow and ensure effective collaboration among team members."]})})]})}}}]);
//# sourceMappingURL=474.0d500ed4.chunk.js.map